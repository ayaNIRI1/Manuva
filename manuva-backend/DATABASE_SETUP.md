# ุฏููู ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ๐๏ธ

## โ ูุฏูู ุจุงููุนู ูุงุนุฏุฉ ุจูุงูุงุช ุฌุงูุฒุฉ!

ูุงุนุฏุฉ ุงูุจูุงูุงุช: **manuva_v**
ุงููุณุชุฎุฏู: **postgres**
ูููุฉ ุงููุฑูุฑ: **aya**

---

## ๐ ุฎุทูุงุช ุงูุชุดุบูู ุงูุณุฑูุน

### ุงูุฎุทูุฉ 1: ุชููุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
cd manuva-backend
npm run init-db
```

ูุฐุง ุณููุดุฆ:
- โ ุฌููุน ุงูุฌุฏุงูู (users, products, orders, ุฅูุฎ)
- โ ุงูู Triggers ูุงูู Functions
- โ ุจูุงูุงุช ุงูุชุฑุงุถูุฉ (8 ูุฆุงุช + 3 ุฎุทุท ุงุดุชุฑุงู)
- โ Indexes ููุฃุฏุงุก ุงูุฃูุถู

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
npm run check-db
```

ุณูุนุฑุถ:
- ๐ ูุงุฆูุฉ ุจุฌููุน ุงูุฌุฏุงูู
- ๐ ุนุฏุฏ ุงูุณุฌูุงุช ูู ูู ุฌุฏูู
- โ ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฎุทูุฉ 3: ุจุฏุก ุชุดุบูู ุงูุฎุงุฏู

```bash
npm run dev
```

---

## ๐ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ

1. **users** - ุงููุณุชุฎุฏููู (ุนููุงุกุ ุญุฑููููุ ุฅุฏุงุฑููู)
2. **categories** - ูุฆุงุช ุงูููุชุฌุงุช
3. **products** - ุงูููุชุฌุงุช ุงูุญุฑููุฉ
4. **orders** - ุงูุทูุจุงุช
5. **order_items** - ุชูุงุตูู ุงูุทูุจุงุช
6. **reviews** - ุงูุชููููุงุช ูุงููุฑุงุฌุนุงุช
7. **favorites** - ุงูููุถูุฉ
8. **follows** - ูุชุงุจุนุฉ ุงูุญุฑูููู
9. **subscription_plans** - ุฎุทุท ุงูุงุดุชุฑุงู
10. **seller_subscriptions** - ุงุดุชุฑุงูุงุช ุงูุจุงุฆุนูู

### ุงูููุฒุงุช ุงููุชูุฏูุฉ

โ **Auto Timestamps** - ุชุญุฏูุซ ุชููุงุฆู ูู updated_at
โ **Stock Management** - ุฅุฏุงุฑุฉ ุชููุงุฆูุฉ ูููุฎุฒูู ุนูุฏ ุงูุทูุจ
โ **Platform Fees** - ุญุณุงุจ ุนูููุฉ ุงูููุตุฉ
โ **Product Approval** - ูุธุงู ููุงููุฉ ุนูู ุงูููุชุฌุงุช
โ **Subscriptions** - ูุธุงู ุงุดุชุฑุงูุงุช ููุจุงุฆุนูู

---

## ๐ง ุฃูุงูุฑ ูููุฏุฉ

### ุชููุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุงูุตูุฑ

ุฅุฐุง ุฃุฑุฏุช ุฅุนุงุฏุฉ ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุงููุงูู:

```bash
# 1. ุญุฐู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฏููุฉ (ุงุฎุชูุงุฑู)
psql -U postgres -c 'DROP DATABASE IF EXISTS manuva_v;'

# 2. ุฅูุดุงุก ูุงุนุฏุฉ ุจูุงูุงุช ุฌุฏูุฏุฉ
psql -U postgres -c 'CREATE DATABASE manuva_v;'

# 3. ุชููุฆุฉ ุงูุฌุฏุงูู
cd manuva-backend
npm run init-db
```

### ุงูุชุญูู ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
psql -U postgres -d manuva_v -c '\dt'
```

ูุฐุง ุณูุนุฑุถ ุฌููุน ุงูุฌุฏุงูู.

### ุนุฑุถ ุงูุจูุงูุงุช ุงูุงูุชุฑุงุถูุฉ

```bash
# ุนุฑุถ ุงููุฆุงุช
psql -U postgres -d manuva_v -c 'SELECT name FROM categories;'

# ุนุฑุถ ุฎุทุท ุงูุงุดุชุฑุงู
psql -U postgres -d manuva_v -c 'SELECT name, price FROM subscription_plans;'
```

---

## ๐ ุงูุจูุงูุงุช ุงูุงูุชุฑุงุถูุฉ

### ุงููุฆุงุช (8 ูุฆุงุช)

1. ุงููุฎุงุฑ ูุงูุณูุฑุงููู
2. ุงูููุณูุฌุงุช
3. ุงููุฌููุฑุงุช ูุงูุฅูุณุณูุงุฑุงุช
4. ุงูุฏูููุฑ ุงูููุฒูู
5. ุงููููู ูุงูููุญุงุช
6. ุงูููุชุฌุงุช ุงูุฌูุฏูุฉ
7. ุงูุฃุนูุงู ุงูุฎุดุจูุฉ
8. ุงูุฃุนูุงู ุงููุนุฏููุฉ

### ุฎุทุท ุงูุงุดุชุฑุงู (3 ุฎุทุท)

| ุงูุฎุทุฉ | ุงูุณุนุฑ | ุงููุฏุฉ | ุงููุฒุงูุง |
|------|------|-------|---------|
| ุงููุฌุงููุฉ | 0 ุฏุฌ | ุดูุฑ | ููุจุฏุก |
| ุงููููุฒุฉ ุงูุดูุฑูุฉ | 2,999 ุฏุฌ | ุดูุฑ | 5 ููุชุฌุงุช ูููุฒุฉ + ุชุญูููุงุช |
| ุงููููุฒุฉ ุงูุณูููุฉ | 29,990 ุฏุฌ | ุณูุฉ | 10 ููุชุฌุงุช ูููุฒุฉ + ุฎุตู 20% |

---

## ๐ ุงูุฃุฏูุงุฑ (Roles)

ุงููุณุชุฎุฏููู ูุฏููู 3 ุฃุฏูุงุฑ:

1. **customer** - ุนููู (ูุดุชุฑู ุงูููุชุฌุงุช)
2. **artisan** - ุญุฑูู (ูุจูุน ุงูููุชุฌุงุช)
3. **admin** - ุฅุฏุงุฑู (ูุฏูุฑ ุงูููุตุฉ)

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### 1. ูููุฉ ุงููุฑูุฑ ูู .env

ุชุฃูุฏ ูู ุฃู ูููุฉ ุงููุฑูุฑ ูู `.env` ุชุทุงุจู ูููุฉ ูุฑูุฑ PostgreSQL:

```env
DB_PASSWORD=aya
```

### 2. ุงุณู ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู ุงูุงุณู ุงูุตุญูุญ:

```env
DB_NAME=manuva_v
```

(ูุงุญุธ: `manuva_v` ูููุณ `manuva-v`)

### 3. ุงูููุงูุฐ

- Backend: `3000`
- Frontend: `3001`
- PostgreSQL: `5432`

---

## ๐ ุญู ุงููุดุงูู

### ุงููุดููุฉ: "database does not exist"

```bash
psql -U postgres -c 'CREATE DATABASE manuva_v;'
```

### ุงููุดููุฉ: "password authentication failed"

ุชุฃูุฏ ูู ูููุฉ ุงููุฑูุฑ ูู `.env` ูุญุงูู:

```bash
psql -U postgres
# ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ
```

### ุงููุดููุฉ: "relation already exists"

ุงูุฌุฏุงูู ููุฌูุฏุฉ ุจุงููุนู. ุงุณุชุฎุฏู:

```bash
npm run check-db
```

ูุนุฑุถ ุงูุฌุฏุงูู ุงูููุฌูุฏุฉุ ุฃู ุงุญุฐู ุงููุงุนุฏุฉ ูุฃุนุฏ ุฅูุดุงุกูุง.

### ุงููุดููุฉ: "PostgreSQL not running"

**Windows:**
- ุงูุชุญ Services ูุงุจุญุซ ุนู PostgreSQL
- ุงุถุบุท Start

**Mac:**
```bash
brew services start postgresql@15
```

**Linux:**
```bash
sudo systemctl start postgresql
```

---

## ๐งช ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุจุนุฏ ุชุดุบูู `npm run init-db`ุ ุฌุฑุจ:

```bash
# ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
npm run check-db

# ุจุฏุก ุงูุฎุงุฏู
npm run dev

# ุงูุชุญ ุงููุชุตูุญ
# http://localhost:3000/api/categories
```

ูุฌุจ ุฃู ุชุฑู ูุงุฆูุฉ ุจู 8 ูุฆุงุช ุจุตูุบุฉ JSON.

---

## ๐ ูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

- `src/database/schema.sql` - ุงูู Schema ุงููุงูู
- `src/database/init.js` - ุณูุฑูุจุช ุงูุชููุฆุฉ
- `.env` - ุฅุนุฏุงุฏุงุช ุงูุงุชุตุงู

---

## โจ ุงูุฎูุงุตุฉ

ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฌุงูุฒุฉ ูููุชููุฉ! ููุท:

1. โ `npm run init-db` - ุชููุฆุฉ ุงูุฌุฏุงูู
2. โ `npm run check-db` - ุงูุชุญูู ูู ุงูุญุงูุฉ
3. โ `npm run dev` - ุจุฏุก ุงูุฎุงุฏู

๐ ุงุณุชูุชุน ุจุงูุจุฑูุฌุฉ!

---

**ุขุฎุฑ ุชุญุฏูุซ:** 7 ูุจุฑุงูุฑ 2026
